@model IEnumerable<demoDACNPMNC.Models.order>
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>ManagementPending</title>
    <script src="https://kit.fontawesome.com/c0b1a641d5.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>
<body style="padding: 40px">
    <h2>Đơn Hàng Đang Trong Quá Trình Vận Chuyển</h2>
    <div>
        <table class=" table table-bordered">
            <tr>
                <th>Tên Khách Hàng</th>
                <th style="display:flex; justify-content:center">Mã Hóa Đơn</th>
                <th>Ngày Mua</th>
                <th>Nhận Hàng Dự Kiến</th>
                <th>Tổng Tiền</th>
                <th>Chi Tiết</th>
                <th style="display:flex; justify-content:center">Hoàn Tất Vận Chuyển</th>
                @*<th>Hủy Bỏ</th>*@
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.name)
                    </td>
                    <td style="display:flex; justify-content:center">
                        @Html.DisplayFor(modelItem => item.id_order)
                    </td>
                    <td>
                        
                                @Html.DisplayFor(modelItem => item.created_at)
                    </td>
                    <td>
                        @{
                            if (item.created_at != null)
                            {
                                DateTime dateValue = DateTime.Parse(item.created_at.ToString());
                                Random random = new Random();
                                // Generate a random integer between 1 and 5
                                int randomNumber = random.Next(1, 6);
                                int randomHour = random.Next(1, 10);
                                DateTime date = dateValue.AddDays(randomNumber);
                                //date = dateValue.AddHours(randomHour);
                                @Html.DisplayFor(modelItem => date)
                            }
                            else
                            {
                                @Html.DisplayFor(modelItem => item.created_at)
                            }
                        }
                    </td>
                    <td>
                        @string.Format("{0:N0} đ", Double.Parse(item.total_price.ToString()))
                    </td>
                    <td>
                        @Html.ActionLink("Chi tiết", "DetailOrder", new { id_order = item.id_order }, new { @class = "btn btn-primary" })
                    </td>
                    <td style="display:flex; justify-content:center">
                        <a href="@Url.Action("ConfirmDelivery","User", new {id_order = item.id_order })" style="display: inline-block; position: relative; padding: 5px 10px; border: none; border-radius: 5px; background-color: #2196F3; color: #fff; cursor: pointer; text-decoration: none;"> <i class="fa-solid fa-check"></i></a>
                    </td>
                    @*<td>
                        <a href="@Url.Action("CancelOrder","User",new {id_order = item.id_order })" style="display: inline-block; position: relative; padding: 5px 10px; border: none; border-radius: 5px; background-color: red; color: #fff; cursor: pointer; text-decoration: none;"> <i class="fa-solid fa-xmark"></i> </a>
                    </td>*@
                </tr>
            }
        </table>
    </div>
</body>
</html>
